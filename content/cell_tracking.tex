\section{Cell Tracking}

\begin{frame}{Cell Tracking - Requirements}
    \begin{figure}
        \centering
        \begin{tikzpicture}
            \begin{scope}[baseline=(image1.south)]
                \node[label=above:$t$] (image1) {
                    \includegraphics[width=0.25\textwidth]{images/cell_tracking/example_00.png}
                };
                \uncover<2->{
                    \node[transparent_node, red, xshift=-12pt, yshift=5pt] (d11) at (image1.center) {}; 
                    \node[transparent_node, green, xshift=20pt, yshift=-5pt] (d12) at (image1.center) {}; 
                }
            \end{scope}
            \begin{scope}[baseline=(image2.south)]
                \node[right=of image1, xshift=-20pt, label=above:$t+1$] (image2) {
                    \includegraphics[width=0.25\textwidth]{images/cell_tracking/example_01.png}
                };
                \uncover<3->{
                    \node[transparent_node, red, xshift=-25pt, yshift=15pt] (d21) at (image2.center) {}; 
                    \node[transparent_node, red, xshift=0pt, yshift=-5pt] (d22) at (image2.center) {};
                    \node[transparent_node, green, xshift=18pt, yshift=-10pt] (d23) at (image2.center) {};
                    \path[assignment_arrow, red, bend left=20] (d11) edge (d21);
                    \path[assignment_arrow, red, bend left=10] (d11) edge (d22);
                    \path[assignment_arrow, green, bend right=20] (d12) edge (d23.south west);
                }
            \end{scope}
            \begin{scope}[baseline=(image3.south)]
                \node[right=of image2, xshift=-20pt, label=above:$t+2$] (image3) {
                    \includegraphics[width=0.25\textwidth]{images/cell_tracking/example_02.png}
                };
                \uncover<4->{
                    \node[transparent_node, red, xshift=-26pt, yshift=13pt] (d31) at (image3.center) {}; 
                    \node[transparent_node, red, xshift=-7pt, yshift=-13pt] (d32) at (image3.center) {};
                    \node[transparent_node, green, xshift=18pt, yshift=-8pt] (d33) at (image3.center) {}; 
                    \path[assignment_arrow, red, bend left=20] (d21) edge (d31);
                    \path[assignment_arrow, red, bend left=20] (d22.north east) edge (d32);
                    \path[assignment_arrow, green, bend right=35] (d23.south east) edge (d33.south west);
                }
            \end{scope}
        \end{tikzpicture}
    \end{figure}
            
    \begin{itemize}
          \item Extract cell lineages from embryo data.
          \item Reconstruct fates of all cells in the embryo.
          \item Applicable in 2D and 3D.
    \end{itemize}
\end{frame}

% \begin{frame}{Existing Work}
%     Two approache:s
%     \begin{enumerate}
%           \item State space models.
%           \item Tracking-by-Assignment
%         \begin{itemize}
%               \item Chain Graph Tracking
%         \end{itemize}
%     \end{enumerate}
% \end{frame}

\begin{frame}{Tracking-by-Assignment}
    \begin{figure}
        \centering
        \includegraphics[width=\textwidth]{images/cell_tracking/pipeline_mod.png}
        \label{fig:chaingraph-pipeline}
    \end{figure}
\end{frame}

\begin{frame}{Hypotheses Graph}
    % \begin{figure}
    \begin{center}
        \only<1>{
            % \begin{subfigure}[b]{0.44\textwidth}
            %     \centering
                \scalebox{0.62}{
                    \begin{tikzpicture}[minimum size=58pt,scale=0.45, every node/.style={scale=0.45, text=black, font=\LARGE}, thick]
                        \input{images/cell_tracking/hypotheses-graph.tex}
                    \end{tikzpicture}
                }
            % \end{subfigure}
        }
        % \hfill
        \only<2>{
            % \begin{subfigure}[b]{0.44\textwidth}
            %     \centering
                \scalebox{0.62}{
                    \begin{tikzpicture}[minimum size=58pt,scale=0.45, every node/.style={scale=0.45, text=black, font=\LARGE}, thick]
                        \input{images/cell_tracking/hypotheses-graph-after-inference.tex}
                    \end{tikzpicture}
                }
            % \end{subfigure}
            }
        \end{center}
    %     \caption{Hypotheses Graph for potential detections and assignments.}
    %     \label{fig:cell-tracking-hypotheses}
    % \end{figure}
\end{frame}



% \begin{frame}{Chain Graph Tracking}
%     \begin{figure}
%         \centering
%         \begin{subfigure}[b]{0.44\textwidth}
%             \centering
%             \includegraphics[width=\textwidth]{images/cell_tracking/fig_crf_less_nodes.pdf}
%             \caption{CRF}
%             \label{fig:chaingraph-crf}
%         \end{subfigure}
%         \hspace{5pt}
%         \begin{subfigure}[b]{0.44\textwidth}
%             \centering
%             \includegraphics[width=\textwidth]{images/cell_tracking/fig_chain_graph.pdf}
%             \caption{Chain Graph}
%             \label{fig:chaingraph-cg}
%         \end{subfigure}
%         \caption{Chain graph model. [SOURCE]}
%         \label{fig:chaingraph-model}
%     \end{figure}
% \end{frame}

% \begin{frame}{Chain Graph Tracking}
%     to be discussed
%     \begin{itemize}
%           \item Can distinguish between cells and noise.
%           \item Allows for tracking in oversegmented images.
%           \item Fails in case of undersegmentation, that is in the presence of merged or overlapping objects.
%     \end{itemize}
%     [Kausler \etal (2012)] REFERENZ
% \end{frame}


%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "../main"
%%% End: 
